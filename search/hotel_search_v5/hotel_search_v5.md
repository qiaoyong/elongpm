国内酒店搜索V5需求
==============================

## 0. 需求列表

| 名称 | 需求点 | V4功能 | 计划开始时间 | 计划完成时间 | 优先级 | 技术需求名 |
|------|-------|--------|------------|------------|--------|-----------|
| 目的地框Suggestion | 支持使用中文搜索 | 是 | | 20140830 | | |
| | 支持使用英文搜索 | 是 | | 20140830 | | |
| | 支持使用拼音搜索 | 是 | | 20140830 | | |
| | 支持使用简拼搜索 | 是 | | 20140830 | | |
| | 支持前缀、中缀匹配 | 是 | | 20140830 | | |
| | 支持同音字纠错 | 是 | | 20140830 | | |
| | 支持根据相关度以及热门排序 | 部分 | | 20140830 | | |
| | 返回酒店家数，签约+未签约 | 是 | | 20140830 | | |
| | 返回Region下热门地标数据 | | | | | |
| | 返回单体酒店相关数据 | | | | | |
| 目的地框支持区域 | 支持城市和景区（即MIS中现有城市）搜索（包括Suggestion） | 是 | | 20140830 | | |
| | 城市和景区的SEO页面不受影响 | 是 | | 20140830 | | |
| | 支持V4上PM维护的目的地搜索（包括Suggestion） | 是 | | 20140830 | | |
| | 支持行政区搜索（包括Suggestion） | 部分 | | 20140830 | | |
| | 支持商圈搜索（包括Suggestion） | 部分 | | | | |
| | 支持POI搜索（包括Suggestion） | 部分 | | | | |
| | 支持省和大区搜索（包括Suggestion） | | | | | |
| | 支持搜索国际目的地（包括Suggestion）| | | | | |
| | 返回地理位置层级信息 | | | 20140830 | |
| 目的地框支持酒店名称 | 支持不指定地理位置，仅搜索酒店名 | | | | | |
| 目的地框支持模糊搜索 | 支持搜索不完全匹配的位置 | | | | | |
| | 支持搜索不完全匹配的酒店名 | | | | | |
| 提高酒店名称搜索准确性 | 输入酒店全名能够搜到酒店 | 部分 | | 20140830 | | |
| | 输入酒店名中的部分连续字符能搜到酒店 | 部分 | | 20140830 | | |
| | 输入酒店命中的部分非连续字符能搜到酒店 | 部分 | | 20140830? | | |
| | 酒店名称包含Query，且Query有歧义时，能搜到酒店 | 部分 | | 20140830? 推迟9月份 | | |
| 列表页筛选项 | 搜索返回筛选项数据 | | | | |
| | 筛选项可用状态动态变化 | | | | | |
| | 筛选项根据点击量排序 | | | | | |
| | 品牌筛选项支持置顶 | 是 | | | | |
| AllinOne框Suggestion | 支持使用中文搜索 | 是 | | 20140830 | | |
| | 支持使用英文搜索 | 是 | | 20140830 | | |
| | 支持使用拼音搜索 | 是 | | 20140830 | | |
| | 支持前缀、中缀匹配 | 是 | | 20140830 | | |
| | 支持根据相关度以及热门排序 | 部分 | | 20140830 | | |
| | 返回Region下热门地标数据 | | | | | |
| | 支持同音字纠错 | 是 | | 20140830 | | |
| AIO搜索 | 支持POI模糊搜索 | | | | |
| | 支持跨城市搜索 | | | | |
| | 支持星级搜索 | | | | |
| | 支持品牌搜索 | | | | | |
| | 支持设施搜索 | | | | | |
| | 支持主题搜索 | | | | | |
| | 支持房型搜索 | | | | | |
| | 支持床型搜索 | | | | | |
| | Query有歧义时，合并多个维度的搜索结果返回 | | | 20140830 | | |
| 搜索结果 | 搜索反馈 | 是 | | | |
| | 标记用户预订过的酒店 | | | | | |
| | 标记用户收藏过的酒店 | | | | | |
| | 接入结构化设施数据 | | | 20140830 | | |
| | 暂停服务酒店可搜索 | | | 20140830? | | |
| | 返回距离地铁站的距离 | | | | | |
| | POI搜索返回酒店到POI交通线路距离 | | | Never | | |
| | 返回新开业、新装修标识 | | | 20140830? 不做了。 | | |
| 排序+推荐 | 根据收益，使用机器学习的方式排序 | | | | |
| | 是否有图片影响排序结果 | | | | |
| | 是否有点评影响排序结果 | | | | |
| | 用户收藏影响排序结果 | | | | |
| | 用户预订影响排序结果 | | | | |
| | 用户类别（如商旅、休闲）影响排序结果 | | | | |
| | RP排序 | | | | |
| | 信息酒店排序 | | | | |
| | 无结果场景下推荐酒店 | | | | |
| | 少结果场景下推荐酒店 | | | | |
| | 酒店详情页推荐酒店 | | | | |
| 大地图找酒店 | 支持框选范围搜索酒店 | | | 20140830 | |
| 酒店主题 | 自动根据酒店属性打上主题的标签 | | | | |
| 点评搜索、结构化 | 提取点评中关键词，可搜索 | | | | |
| | 点评支持全文检索 | | | | |
| 数据运营 | Region数据：中心点坐标、边界、层级关系 | | | | |
| | POI数据：坐标、层级关系 | | | | |

## 1. 目的地框Suggestion

### 1.1 支持使用中文搜索

| Query | Result | Comment |
|-------|--------|---------|
| 北 | 北京<br/>北海<br/>北戴河<br/>... | |

### 1.2 支持使用英文搜索

| Query | Result | Comment |
|-------|--------|---------|
| Hongkong | 香港 | 部分城市有不同于拼音的英文名 |

### 1.3 支持使用拼音搜索

| Query | Result | Comment |
|-------|--------|---------|
| xianggang | 香港 | 拼音和英文都能搜到香港 |
| 北jin | 北京 | 部分汉字，部分拼音，且拼音不全也能搜索到 |
| xian | 西安<br/>咸阳<br/>香港<br/>襄樊<br/>... | 目前bad case，无法召回西安，“xx”县排在最前面 |

### 1.4 支持使用简拼搜索

| Query | Result | 备注 |
|-------|---------|------|
| sz | 深圳<br/>苏州<br/>宿州<br/>朔州<br/>... | 目前排序有问题 |
| la | 兰州<br/>拉萨<br/>廊坊<br/>阆中<br/>六安<br/>临安<br/>莱芜<br/>来宾<br/>... | 拼音和简拼都有结果返回 |

### 1.5 支持前缀、中缀匹配

| Query | Result | Comment |
|-------|--------|---------|
| 庆 | 庆阳<br/>青岛<br/>重庆<br/>... | 中缀也可以匹配，排在前缀后面 |

### 1.6 支持同音字纠错

| Query | Result | Comment |
|-------|--------|---------|
| 庆 | 庆阳<br/>青岛<br/>重庆<br/>... | 搜的是“庆”，青岛也能出来 |

### 1.7 支持根据相关度以及热门排序

| Query | Result | Comment |
|-------|--------|---------|
| sz | 深圳<br/>苏州<br/>宿州<br/>朔州<br/>... | 简拼都能匹配，按照热门程度排序 |
| la | 兰州<br/>拉萨<br/>廊坊<br/>阆中<br/>六安<br/>临安<br/>莱芜<br/>来宾<br/>... | 简拼和拼音都能匹配，按照热门程度排序 |
| 庆 | 庆阳<br/>青岛<br/>重庆<br/>... | 前缀优先，同音字排在后面 |

### 1.8 返回酒店家数，签约+未签约

Suggest用户目的地的同时，提升用户改目的地的酒店家数（包括签约和未签约的）。

### 1.9 返回Region下热门地标数据

Suggest用户目的地的同时，可以展开该目的地下的热门地标供用户选择。

### 1.10 返回单体酒店相关数据

Suggest用户单体酒店名时，可以返回单体酒店的图片，最低价等信息。

## 2. 目的地框支持区域

### 2.1 支持城市和景区（即MIS中现有城市）搜索（包括Suggestion）

现在MIS中维护的城市在V5的目的地框中可以搜索到，但是有部分PSG建错得城市，不应该搜索到，例如“毛里求斯”，“重复请选择西安”等。根据V5里维护的边界召回酒店。

问题：
1. PSG新建了城市，V5也要能搜到？
2. 确保所有Region的边界是覆盖中国的？
3. PSG想在某个Region添加酒店，但是酒店不在那个Region边界内

### 2.2 城市和景区(即MIS中现有城市）的SEO页面不受影响

MIS中现有城市有对应的SEO链接，hotel.elong.com/[city english name]。V5这些SEO的链接要保持能够访问到对应城市的列表页。

### 2.3 支持V4上PM维护的目的地搜索（包括Suggestion）

例如：阳澄湖、抚仙湖、东戴河、二道白河等。

### 2.4 支持行政区搜索（包括Suggestion）

V5目的地框可以搜索到行政区，结果页是行政区独立的页面。页面上的热门地标是整个城市的热门地标。

### 2.5 支持商圈搜索（包括Suggestion）

V5目的地框可以搜索到商圈，结果页是商圈独立的页面。页面上的热门地标是整个城市的热门地标。

### 2.6 支持POI搜索（包括Suggestion）

V5目的地框可以搜索到POI，结果页是POI独立的页面。页面上的热门地标是整个城市的热门地标。

### 2.7 支持省和大区搜索（包括Suggestion）

V5目的地框可以搜索到省，结果页上显示省内的目的地推荐。

### 2.8 支持搜索国际目的地（包括Suggestion）

V5目的地框可以搜索国际目的地。

### 2.9 返回地理位置层级信息

用于网站显示面包屑。

## 3. 目的地框支持酒店名称

### 3.1 支持不指定地理位置，仅搜索酒店名

| Query | Result | Comment |
|-------|--------|---------|
| 开元名都 | 北京开元名都大酒店<br/>上海松江开元名都大酒店<br/>杭州三立开元名都大酒店<br/>杭州开元名都大酒店<br/>... | | 

## 4. 目的地框支持模糊搜索

### 4.1 支持搜索不完全匹配的位置

| Query | Result | Comment |
|-------|--------|---------|
| 上海虹桥 | 上海虹桥机场（POI）<br/>上海虹桥火车站（POI）<br/>上海虹桥交通枢纽（商圈）<br/>上海（城市）<br/>上海万豪虹桥大酒店<br/>上海新虹桥智选假日酒店<br/>上海虹桥逸郡酒店<br/>... | 假设没有上海虹桥这个region或者POI，返回相关的region和POI；如果支持酒店名搜索，同时返回相关酒店名 | 

### 4.2 支持搜索不完全匹配的酒店名

见4.1。

## 5. 提高酒店名称搜索准确性

### 5.1 输入酒店全名能够搜到酒店

### 5.2 输入酒店名中的部分连续字符能搜到酒店

| Query | Result | Comment |
|-------|--------|---------|
| 南京 土丁 | 南京土丁青年酒店| 目前线上bad case| 
| 淮南 新锦江 | 新锦江大酒店 | 目前线上base case |
| 鼓浪屿 中德记 | 鼓浪屿中德记度假别墅 | 目前线上base case |

### 5.3 



